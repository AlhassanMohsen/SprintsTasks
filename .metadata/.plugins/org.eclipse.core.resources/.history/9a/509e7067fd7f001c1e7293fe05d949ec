/*
 * EEPROM.c
 *
 *  Created on: Jan 27, 2022
 *      Author: Alhassan Mohsen
 */

#include "EEPROM_prv.h"
#include "EEPROM_cfg.h"
#include "EEPROM_interface.h"



void EEPROM_Init(void)
{
	I2C_u8Init();
}

uint8_t EEPROM_u8WriteByteTo(uint8_t u8ChipAddress,uint16_t u16ByteAddress,uint8_t u8Data)
{
	uint8_t u8OperationAddress;
	u8OperationAddress = (EEPROM_CONTROL_BYTE_HIGH_NIBBLE_MASK|(u8ChipAddress<<EEPROM_FIRST_CHIP_SELECT_BIT));
	I2C_u8MasterSendStart();
	I2C_u8MasterSendSLA(u8OperationAddress,I2C_MASTER_WRITE);
	I2C_u8MasterSendByte(u16ByteAddress);
	I2C_u8Stop();
}


uint8_t EEPROM_u8ReadByteFrom(uint8_t u8ChipAddress,uint16_t u16ByteAddress,uint8_t* u8Data)
{
	uint8_t u8OperationAddress;
	uint8_t u8ByteAddressHigh = (u16ByteAddress>>8);
	uint8_t u8ByteAddressLow =(u16ByteAddress<<0);
	u8OperationAddress = (EEPROM_CONTROL_BYTE_HIGH_NIBBLE_MASK|(u8ChipAddress<<EEPROM_FIRST_CHIP_SELECT_BIT));
	I2C_u8MasterSendStart();
	I2C_u8MasterSendSLA(u8OperationAddress,I2C_MASTER_WRITE);


}
